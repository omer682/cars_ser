{% extends 'base.html'%}
{ % load static % }

{% block content%}
<div>
  <div style="display: flex;">
    <form action="{% url 'cars' %}" method="get" style="display: flex;">
      <input type="submit">
      <select  style="min-width: 20%;" class="form-select form-select-sm" aria-label=".form-select-sm example" name="orderby">
        <option selected disabled>-- Order By --</option>
        <option value="cost">cost</option>
        <option value="year">Year</option>
        <option value="manufacturer">manufacture name</option>
        <option value="km">km</option>
      </select>
      
      </form>
    
      <form action="{% url 'cars' %}" method="get" style="margin:0% 0% 0% 75.5%; display: flex;" >
        <input type="submit">
        <select  style="min-width: 30%;" class="form-select form-select-sm" aria-label=".form-select-sm example" name="find_by_manufacturer">
            <option selected disabled>-- Order By Manufactur --</option>
            {%for manufacturer in cars_manu%}
            <option value="{{manufacturer}}">{{manufacturer}}</option>
            {% endfor %}

          </select>
          </form>
        </div>   
      {% if error %}
      <p style="font-weight: 900; color: rgb(255, 30, 0);">{{error}}</p>
      {% endif %}
      <div>
        <table class="table table-dark table-striped table table-hover">
            <thead>
              <tr>
                <th scope="col">id</th>
                <th scope="col">manufacturer</th>
                <th scope="col">Model</th>
                <th scope="col">Year</th>
                <th scope="col">km</th>
                <th scope="col">cost</th>
                <th scope="col">Gearbox</th>
                <th scope="col">Owner details</th>
                
                
              </tr>
            </thead>
            <tbody> 

              
                {%for car in cars%}

                <tr onclick="window.location = '{% url 'carid' %}?carid={{car.plate_id}}'">               
                <th scope="row">{{car.id}}</th>
                <th>{{car.manufacturer}}</th>
                <td>{{car.model}}</td>
                <td>{{car.year}}</td>
                <td>{{car.km}}</td>
                <td>{{car.cost}}</td>
                <td>{{car.gearbox}}</td>
                <td>{{car.owner}}</td>
              </tr>
              {%endfor%}

            </tbody>
          </table>
      </div>
      <button class="btn btn-success">Testing Btn</button>
</div>
{% endblock content%}
